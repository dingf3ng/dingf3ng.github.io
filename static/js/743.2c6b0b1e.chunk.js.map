{"version":3,"file":"static/js/743.2c6b0b1e.chunk.js","mappings":"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","sources":["pages/PostTemplate.js","data/posts/src|lazy|/^/.//.*$/|groupOptions: {}|namespace object"],"sourcesContent":["import React, {\n  useState, useEffect, lazy, Suspense,\n} from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, useParams } from 'react-router-dom';\n\nimport Main from '../layouts/Main';\n\n// This is the correct use of lazy() - for component code-splitting\nconst MathMarkdown = lazy(() => Promise.all([\n  import('react-markdown'),\n  import('remark-math'),\n  import('rehype-katex'),\n  import('katex/dist/katex.min.css'),\n]).then(([markdown, remarkMath, rehypeKatex]) => ({\n  default: ({ children }) => (\n    <markdown.default\n      rehypePlugins={[rehypeKatex.default]}\n      remarkPlugins={[remarkMath.default]}\n    >\n      {children}\n    </markdown.default>\n  ),\n})));\n\nconst PostTemplate = ({ post: propPost }) => {\n  const { id } = useParams();\n  const [post, setPost] = useState(propPost);\n  const [loading, setLoading] = useState(!propPost);\n  const [error, setError] = useState(false);\n\n  // Data loading logic goes in useEffect, not lazy()\n  useEffect(() => {\n    if (!propPost && id) {\n      setLoading(true);\n      import('../data/posts/posts')\n        .then((module) => {\n          const posts = module.default;\n          const foundPost = posts.find((p) => p.id === id);\n          if (foundPost?.address) {\n            return import(`../data/posts/src/${foundPost.address}`)\n              .then((res) => fetch(res.default))\n              .then((response) => response.text())\n              .then((content) => ({ ...foundPost, content }));\n          }\n          throw new Error('Post not found');\n        })\n        .then(setPost)\n        .catch(() => setError(true))\n        .finally(() => setLoading(false));\n    }\n  }, [propPost, id]);\n\n  const count = (content) => {\n    if (!content) return 0;\n    return content.split(/\\s+/).filter((s) => s.trim().length).length;\n  };\n\n  if (loading) {\n    return (\n      <Main title=\"Loading...\" description=\"Loading post...\">\n        <article className=\"pagepost markdown\">\n          <p>Loading content...</p>\n        </article>\n      </Main>\n    );\n  }\n\n  if (error || !post) {\n    return (\n      <Main title=\"Not Found\" description=\"Post not found\">\n        <article className=\"pagepost markdown\">\n          <header>\n            <div className=\"title\">\n              <h2><Link to=\"/posts\">Post not found</Link></h2>\n            </div>\n          </header>\n        </article>\n      </Main>\n    );\n  }\n\n  return (\n    <Main title={post.title} fullPage description=\"Learn More\">\n      <article className=\"pagepost markdown\" id={post.id}>\n        <header>\n          <div className=\"title\">\n            <h2><Link to={`/posts/${post.id}`}>{post.title}</Link></h2>\n            <p>(in about {count(post.content)} words)</p>\n          </div>\n        </header>\n        <Suspense fallback={<div>Loading math support...</div>}>\n          <MathMarkdown>{post.content}</MathMarkdown>\n        </Suspense>\n      </article>\n    </Main>\n  );\n};\n\nPostTemplate.propTypes = {\n  post: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    address: PropTypes.string.isRequired,\n  }),\n};\n\nPostTemplate.defaultProps = {\n  post: null,\n};\n\nexport default PostTemplate;\n","var map = {\n\t\"./CS2040S_1.md\": [\n\t\t3158,\n\t\t158\n\t],\n\t\"./CS4269_Lecture_2.md\": [\n\t\t2266,\n\t\t266\n\t],\n\t\"./course_review_I.md\": [\n\t\t1445,\n\t\t445\n\t],\n\t\"./course_review_II.md\": [\n\t\t7174,\n\t\t174\n\t],\n\t\"./my_first_post.md\": [\n\t\t549,\n\t\t549\n\t],\n\t\"./pie_in_source_academy.md\": [\n\t\t4510,\n\t\t510\n\t],\n\t\"./reflection_on_teaching.md\": [\n\t\t6820,\n\t\t820\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(() => {\n\t\treturn __webpack_require__.t(id, 1 | 16);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 8412;\nmodule.exports = webpackAsyncContext;"],"names":["MathMarkdown","lazy","Promise","all","then","_ref","markdown","remarkMath","rehypeKatex","default","_ref2","children","_jsx","rehypePlugins","remarkPlugins","PostTemplate","_ref3","post","propPost","id","useParams","setPost","useState","loading","setLoading","error","setError","useEffect","module","foundPost","find","p","address","concat","res","fetch","response","text","content","_objectSpread","Error","catch","finally","Main","title","description","className","Link","to","fullPage","_jsxs","split","filter","s","trim","length","Suspense","fallback","defaultProps","map","webpackAsyncContext","req","__webpack_require__","o","resolve","e","code","ids","t","keys","Object","exports"],"sourceRoot":""}